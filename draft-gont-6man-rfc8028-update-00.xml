<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<?rfc subcompact="no" ?>
<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes"?>
<?rfc strict="no" ?>

<rfc updates="4861, 4862, 8028, 8504" category="std"  ipr="trust200902"
docName="draft-gont-6man-rfc8028-update-00">
  <front>
    <title abbrev="Improving Support for Multi-Router and Multi-Prefix Networks">Support for Multi-Router and Multi-Prefix IPv6 Networks</title>


    <author fullname="Fernando Gont" initials="F." surname="Gont">

      <organization abbrev="SI6 Networks">SI6 Networks</organization>
      <address>
        <postal>
          <street>Segurola y Habana 4310, 7mo Piso</street>
<!--          <code>1706</code> -->
          <city>Villa Devoto</city>
          <region>Ciudad Autonoma de Buenos Aires</region>
          <country>Argentina</country>
        </postal>
<!--        <phone>+54 11 4650 8472</phone> -->
        <email>fgont@si6networks.com</email>
        <uri>https://www.si6networks.com</uri>
       </address>
    </author>


    <date/>

    <area>Internet</area>
    <workgroup>IPv6 Maintenance (6man) Working Group</workgroup>

<!-- [rfced] Please insert any keywords (beyond those that appear in
the title) for use on http://www.rfc-editor.org/search.html. -->

<keyword></keyword>



    <abstract>
<t>This document specifies IPv6 host behavior to improve their support for general and common multi-router and multi-prefix scenarios. It formally updates RFC 4861, RFC 4862, and RFC 8028 such that such scenarios are properly supported. This document also formally updates RFC 8504, thus requiring support for multi-router and multi-prefix scenarios in all IPv6 nodes.
</t>
    </abstract>
  </front>
  <middle>
  
    <section title="Introduction" anchor="intro">
<t>IPv6 Stateless Address Autoconfiguration (SLAAC) is based on the assumption that SLAAC routers will advertise configuration information on a local network, and SLAAC hosts will agregate this information and use it as they see fits. In simple network scenarios where there is a single local router, or where there are multiple routers but all routers advertise the same information (or where all advertised information is equivalent), SLAAC works just fine. However, more complex (yet very common) scenarios are currently not supported.</t>

<t>For example, in scenarios where a local network attaches to two different upstream Internet Service Providers (ISP): 
<list style="symbols">
<t>A host may source packets from the IPv6 prefix of one ISP and incorrectly send them via the second ISP, with the corresponding traffic being dropped as a result of ingress-filtering <xref target="RFC2827"/>.</t>
<t>A host may resolve DNS names using the recursive DNS server advertised by one ISP, but then use the second ISP for sending traffic to the corresponding IPv6 addresses, thus resulting in suboptimal service or packet drops.
</t>
</list>
</t>
<t>These scenarios, along with other common scenarios, are discussed in detail in <xref target="draft-gont-v6ops-multi-ipv6-00"/>. This document pursues the necessary standards-track work to improve the support for such scenarios.
</t>

</section>

<section title="Terminology" anchor="term">


<t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
      "MAY", and "OPTIONAL" in this document are to be interpreted as
      described in BCP 14 <xref target='RFC2119' /> <xref target='RFC8174' /> when, and only when, they
      appear in all capitals, as shown here.
</t>

</section>


<section title="Improving Support for Multi-Router and Multi-Prefix Networks" anchor="support">

<section title="Host Support for Multi-Router and Multi-Prefix IPv6 Networks" anchor="host-reqs">
<t>SLAAC hosts SHOULD record which router (as identified by its IPv6 link-local address and the associated zone index) advertised each piece of SLAAC network configuration information.</t>
<t>For each piece of SLAAC network configuration, SLAAC hosts SHOULD maintain separate state for each SLAAC router that advertised each piecen of information. 
<list style="hanging">
<t>This means that, for example, if two SLAAC routers advertise the same IPv6 prefix via PIOs, a host will maintain a (Prefix, remaining valid lifetime, remaining preferred lifetime) for each router.</t>
</list>
</t>
<t>If a piece of configuration information, as associated with a specific SLAAC router, becomes invalid SLAAC hosts SHOULD disassociate the information with the corresponding router. SLAAC hosts SHOULD NOT entirely discard the configuration information from the system unless it has become dissassociated (ie. invalid) for all routers that had advertised it.</t>

<t>Routing inforamation conveyed in SLAAC RIOs or Redirect messages SHOULD be associated with the router that advertised it,and SHOULD only be employed for IPv6 packets sourced from addresses in that router's prefix set.</t>
<t>Server-type information such as RDNSS SHOULD be associated with the router that advertised it,and SHOULD only be employed for IPv6 packets sourced from addresses in that router's prefix set.</t>
</section>

<section title="Node Requirements" anchor="node-reqs">
<t>This document formally updates <xref target="RFC8504"/> as follows:
<list style="hanging">
<t>Support for Multi-Router and Multi-Prefix Networks</t>
<t>Nodes MUST Implement the recommendations specified in [this document].</t>
</list>
</t>

</section>
</section>


    <section title="IANA Considerations">
      <t>
This document has no actions for IANA.
</t>
    </section>


    <section title="Security Considerations">
<t>This document does not introduce any new attack vectors to the ones associated with IPv8 Neighbor Discovery <xref target="RFC4861"/> and IPv6 Stateless Address Autoconfiguration (SLAAC).</t>

<t>If attacks based on forged RA packets are a concern, technologies such as RA-Guard <xref target="RFC6105"/> <xref target="RFC7113"/> should be deployed.</t>

    </section>



<section title="Acknowledgments">
<t>The authors would like to thank (in alphabetical order) Brian Carpenter for providing valuable comments on earlier versions of this document.</t>

<t>Fernando would also like to thank Brian Carpenter who, over the years, has answered many questions and provided valuable comments that has benefited his protocol-related work.</t>

    </section>

  </middle>
  <back>

    <references title="Normative References">
	<?rfc include="reference.RFC.2119" ?>
	<?rfc include="reference.RFC.8028" ?>
	<?rfc include="reference.RFC.4861" ?>
	<?rfc include="reference.RFC.4862" ?>
	<?rfc include="reference.RFC.8174" ?>
	<?rfc include="reference.RFC.8504" ?>
	</references>

    <references title="Informative References">

	<?rfc include="reference.RFC.2827" ?>
	<?rfc include="reference.RFC.6105" ?>
	<?rfc include="reference.RFC.6724" ?>
	<?rfc include="reference.RFC.7113" ?>
	
	<reference anchor="draft-gont-v6ops-multi-ipv6-00" target="https://www.ietf.org/archive/id/draft-gont-v6ops-multi-ipv6-00.txt">
		<front>
    <title abbrev="Problem Statement about Multi-Router and Multi-Prefix Networks">Problem Statement about IPv6 Support for Multiple Routers and Multiple Interfaces</title>

	    <author fullname="Fernando Gont" initials="F." surname="Gont">

      <organization abbrev="SI6 Networks">SI6 Networks</organization>
      <address>
        <postal>
          <street>Segurola y Habana 4310, 7mo Piso</street>
<!--          <code>1706</code> -->
          <city>Villa Devoto</city>
          <region>Ciudad Autonoma de Buenos Aires</region>
          <country>Argentina</country>
        </postal>
<!--        <phone>+54 11 4650 8472</phone> -->
        <email>fgont@si6networks.com</email>
        <uri>https://www.si6networks.com</uri>
       </address>
    </author>

	    <author fullname="Guillermo Gont" initials="G." surname="Gont">

      <organization abbrev="SI6 Networks">SI6 Networks</organization>
      <address>
        <postal>
          <street>Segurola y Habana 4310, 7mo Piso</street>
<!--          <code>1706</code> -->
          <city>Villa Devoto</city>
          <region>Ciudad Autonoma de Buenos Aires</region>
          <country>Argentina</country>
        </postal>
<!--        <phone>+54 11 4650 8472</phone> -->
        <email>ggont@si6networks.com</email>
        <uri>https://www.si6networks.com</uri>
       </address>
    </author>

			<date month="November" year="2024"/>
		</front>
		<seriesInfo name="IETF" value="draft"/>
	</reference>
	
	
    </references>


  </back>
</rfc>
<!--
Local Variables:
mode:xml
End:
=-->
